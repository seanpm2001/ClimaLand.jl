<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ClimaLand.jl</title>
    <meta name="description" content="Documentation for ClimaLand.jl">
    <meta name="generator" content="VitePress v1.3.4">
    <link rel="preload stylesheet" href="/ClimaLand.jl/previews/PR750/assets/style.DkgLeiap.css" as="style">
    
    <script type="module" src="/ClimaLand.jl/previews/PR750/assets/app.CQ0gjJIq.js"></script>
    <link rel="preload" href="/ClimaLand.jl/previews/PR750/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/ClimaLand.jl/previews/PR750/assets/chunks/theme.B0I6TspR.js">
    <link rel="modulepreload" href="/ClimaLand.jl/previews/PR750/assets/chunks/framework.Cn8yLw_6.js">
    <link rel="modulepreload" href="/ClimaLand.jl/previews/PR750/assets/API.md.CRL9ONG_.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-a9a9e638><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c3508ec8></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c3508ec8> Skip to content </a><!--]--><!----><header class="VPNav" data-v-a9a9e638 data-v-f1e365da><div class="VPNavBar" data-v-f1e365da data-v-822684d1><div class="wrapper" data-v-822684d1><div class="container" data-v-822684d1><div class="title" data-v-822684d1><div class="VPNavBarTitle has-sidebar" data-v-822684d1 data-v-28a961f9><a class="title" href="/ClimaLand.jl/previews/PR750/" data-v-28a961f9><!--[--><!--]--><!----><span data-v-28a961f9>ClimaLand.jl</span><!--[--><!--]--></a></div></div><div class="content" data-v-822684d1><div class="content-body" data-v-822684d1><!--[--><!--]--><div class="VPNavBarSearch search" data-v-822684d1><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-822684d1 data-v-e6d46098><span id="main-nav-aria-label" class="visually-hidden" data-v-e6d46098> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/ClimaLand.jl/previews/PR750/index" tabindex="0" data-v-e6d46098 data-v-ed5ac1f6><!--[--><span data-v-ed5ac1f6>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/ClimaLand.jl/previews/PR750/getting_started" tabindex="0" data-v-e6d46098 data-v-ed5ac1f6><!--[--><span data-v-ed5ac1f6>Getting started</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/ClimaLand.jl/previews/PR750/API" tabindex="0" data-v-e6d46098 data-v-ed5ac1f6><!--[--><span data-v-ed5ac1f6>API</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-822684d1 data-v-af096f4a><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-af096f4a data-v-e40a8bb6 data-v-4a1c76db><span class="check" data-v-4a1c76db><span class="icon" data-v-4a1c76db><!--[--><span class="vpi-sun sun" data-v-e40a8bb6></span><span class="vpi-moon moon" data-v-e40a8bb6></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-822684d1 data-v-164c457f data-v-ee7a9424><!--[--><a class="VPSocialLink no-icon" href="https://github.com/CliMA/ClimaLand.jl" aria-label="github" target="_blank" rel="noopener" data-v-ee7a9424 data-v-717b8b75><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-822684d1 data-v-925effce data-v-e5380155><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-e5380155><span class="vpi-more-horizontal icon" data-v-e5380155></span></button><div class="menu" data-v-e5380155><div class="VPMenu" data-v-e5380155 data-v-7dd3104a><!----><!--[--><!--[--><!----><div class="group" data-v-925effce><div class="item appearance" data-v-925effce><p class="label" data-v-925effce>Appearance</p><div class="appearance-action" data-v-925effce><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-925effce data-v-e40a8bb6 data-v-4a1c76db><span class="check" data-v-4a1c76db><span class="icon" data-v-4a1c76db><!--[--><span class="vpi-sun sun" data-v-e40a8bb6></span><span class="vpi-moon moon" data-v-e40a8bb6></span><!--]--></span></span></button></div></div></div><div class="group" data-v-925effce><div class="item social-links" data-v-925effce><div class="VPSocialLinks social-links-list" data-v-925effce data-v-ee7a9424><!--[--><a class="VPSocialLink no-icon" href="https://github.com/CliMA/ClimaLand.jl" aria-label="github" target="_blank" rel="noopener" data-v-ee7a9424 data-v-717b8b75><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-822684d1 data-v-5dea55bf><span class="container" data-v-5dea55bf><span class="top" data-v-5dea55bf></span><span class="middle" data-v-5dea55bf></span><span class="bottom" data-v-5dea55bf></span></span></button></div></div></div></div><div class="divider" data-v-822684d1><div class="divider-line" data-v-822684d1></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-a9a9e638 data-v-070ab83d><div class="container" data-v-070ab83d><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-070ab83d><span class="vpi-align-left menu-icon" data-v-070ab83d></span><span class="menu-text" data-v-070ab83d>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-070ab83d data-v-bc9dc845><button data-v-bc9dc845>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-a9a9e638 data-v-18756405><div class="curtain" data-v-18756405></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-18756405><span class="visually-hidden" id="sidebar-aria-label" data-v-18756405> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-9e426adc><section class="VPSidebarItem level-0 has-active" data-v-9e426adc data-v-196b2e5f><!----><div class="items" data-v-196b2e5f><!--[--><div class="VPSidebarItem level-1 is-link" data-v-196b2e5f data-v-196b2e5f><div class="item" data-v-196b2e5f><div class="indicator" data-v-196b2e5f></div><a class="VPLink link link" href="/ClimaLand.jl/previews/PR750/index" data-v-196b2e5f><!--[--><p class="text" data-v-196b2e5f>Home</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-196b2e5f data-v-196b2e5f><div class="item" data-v-196b2e5f><div class="indicator" data-v-196b2e5f></div><a class="VPLink link link" href="/ClimaLand.jl/previews/PR750/getting_started" data-v-196b2e5f><!--[--><p class="text" data-v-196b2e5f>Getting started</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-196b2e5f data-v-196b2e5f><div class="item" data-v-196b2e5f><div class="indicator" data-v-196b2e5f></div><a class="VPLink link link" href="/ClimaLand.jl/previews/PR750/API" data-v-196b2e5f><!--[--><p class="text" data-v-196b2e5f>API</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-a9a9e638 data-v-91765379><div class="VPDoc has-sidebar has-aside" data-v-91765379 data-v-83890dd9><!--[--><!--]--><div class="container" data-v-83890dd9><div class="aside" data-v-83890dd9><div class="aside-curtain" data-v-83890dd9></div><div class="aside-container" data-v-83890dd9><div class="aside-content" data-v-83890dd9><div class="VPDocAside" data-v-83890dd9 data-v-6d7b3c46><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-6d7b3c46 data-v-b38bf2ff><div class="content" data-v-b38bf2ff><div class="outline-marker" data-v-b38bf2ff></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-b38bf2ff>On this page</div><ul class="VPDocOutlineItem root" data-v-b38bf2ff data-v-3f927ebe><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-6d7b3c46></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-83890dd9><div class="content-container" data-v-83890dd9><!--[--><!--]--><main class="main" data-v-83890dd9><div style="position:relative;" class="vp-doc _ClimaLand_jl_previews_PR750_API" data-v-83890dd9><div><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.AbstractAtmosphericDrivers" href="#ClimaLand.AbstractAtmosphericDrivers">#</a> <b><u>ClimaLand.AbstractAtmosphericDrivers</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> AbstractAtmosphericDrivers{FT}</span></span></code></pre></div><p>An abstract type of atmospheric drivers of land models.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.AbstractBC" href="#ClimaLand.AbstractBC">#</a> <b><u>ClimaLand.AbstractBC</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">AbstractBC</span></span></code></pre></div><p>An abstract type for types of boundary conditions, which will include prescribed functions of space and time as Dirichlet conditions or Neumann conditions, in addition to other convenient conditions.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.AbstractBoundary" href="#ClimaLand.AbstractBoundary">#</a> <b><u>ClimaLand.AbstractBoundary</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">AbstractBoundary</span></span></code></pre></div><p>An abstract type to indicate which boundary we are doing calculations for. Currently, we support the top boundary (TopBoundary) and bottom boundary (BottomBoundary).</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.AbstractClimaLandDrivers" href="#ClimaLand.AbstractClimaLandDrivers">#</a> <b><u>ClimaLand.AbstractClimaLandDrivers</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> AbstractClimaLandDrivers{FT </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractFloat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>An abstract type of radiative drivers of land models.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.AbstractExpModel" href="#ClimaLand.AbstractExpModel">#</a> <b><u>ClimaLand.AbstractExpModel</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">AbstractExpModel{FT} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractModel{FT}</span></span></code></pre></div><p>An abstract type for models which must be treated explicitly. This inherits all the default function definitions from AbstractModel, as well as a <code>make_imp_tendency</code> default.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.AbstractImExModel" href="#ClimaLand.AbstractImExModel">#</a> <b><u>ClimaLand.AbstractImExModel</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">AbstractImExModel{FT} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractModel{FT}</span></span></code></pre></div><p>An abstract type for models which must be treated implicitly (and which may also have tendency terms that can be treated explicitly). This inherits all the default function definitions from AbstractModel, as well as <code>make_imp_tendency</code> and <code>make_compute_imp_tendency</code> defaults.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.AbstractLandModel" href="#ClimaLand.AbstractLandModel">#</a> <b><u>ClimaLand.AbstractLandModel</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> AbstractLandModel{FT} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractModel{FT}</span></span></code></pre></div><p>An abstract type for all land model types, which are used to simulated multiple land surface components as a single system. Standalone component runs do not require this interface and it should not be used for that purpose.</p><p>Many methods taking an argument of type <code>AbstractLandModel</code> are extensions of functions defined for <code>AbstractModel</code>s. There are default methods that apply for all <code>AbstractLandModel</code>s, including <code>make_update_aux</code>, <code>make_exp_tendency</code>, <code>make_imp_tendency</code>, <code>make_compute_exp_tendency</code>, <code>make_compute_imp_tendency</code>, <code>initialize_prognostic</code>, <code>initialize_auxiliary</code>, <code>initialize</code>, and <code>coordinates</code>.</p><p>Methods which dispatch on a specific type of AbstractLandModel include any function involving interactions between components, as these interactions depend on the components in the land model and the versions of these component models being used.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.AbstractModel" href="#ClimaLand.AbstractModel">#</a> <b><u>ClimaLand.AbstractModel</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">abstract type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> AbstractModel{FT </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractFloat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>An abstract type for all models.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.AbstractRadiativeDrivers" href="#ClimaLand.AbstractRadiativeDrivers">#</a> <b><u>ClimaLand.AbstractRadiativeDrivers</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> AbstractRadiativeDrivers{FT}</span></span></code></pre></div><p>An abstract type of radiative drivers of land models.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.AbstractSource" href="#ClimaLand.AbstractSource">#</a> <b><u>ClimaLand.AbstractSource</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">AbstractSource{FT </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractFloat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>An abstract type for types of source terms.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.BottomBoundary" href="#ClimaLand.BottomBoundary">#</a> <b><u>ClimaLand.BottomBoundary</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BottomBoundary{} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractBoundary{}</span></span></code></pre></div><p>A simple object which should be passed into a function to indicate that we are considering the bottom boundary.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.CanopyRadiativeFluxes" href="#ClimaLand.CanopyRadiativeFluxes">#</a> <b><u>ClimaLand.CanopyRadiativeFluxes</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CanopyRadiativeFluxes{FT} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractRadiativeDrivers{FT}</span></span></code></pre></div><p>A struct used to compute radiative fluxes in land surface models, indicating that canopy absorption and emission is taken into account when computing radiation at the surface of the soil or snow.</p><p>The only other alternative at this stage is ClimaLand.PrescribedRadiativeFluxes, where the prescribed downwelling short and longwave radiative fluxes are used directly, without accounting for the canopy. There is a different method of the function <code>soil_boundary_fluxes!</code> in this case.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.CoupledAtmosphere" href="#ClimaLand.CoupledAtmosphere">#</a> <b><u>ClimaLand.CoupledAtmosphere</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CoupledAtmosphere{FT} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractAtmosphericDrivers{FT}</span></span></code></pre></div><p>To be used when coupling to an atmosphere model.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.CoupledRadiativeFluxes" href="#ClimaLand.CoupledRadiativeFluxes">#</a> <b><u>ClimaLand.CoupledRadiativeFluxes</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CoupledRadiativeFluxes{FT} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractRadiativeDrivers{FT}</span></span></code></pre></div><p>To be used when coupling to an atmosphere model.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.DriverAffect" href="#ClimaLand.DriverAffect">#</a> <b><u>ClimaLand.DriverAffect</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DriverAffect{updateType, updateFType}</span></span></code></pre></div><p>This struct is used by <code>DriverUpdateCallback</code> to update the values of <code>p.drivers</code> at different timesteps specified by <code>updateat</code>, using the function <code>updatefunc</code> which takes as arguments (p, t).</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.DriverAffect-Tuple{Any}" href="#ClimaLand.DriverAffect-Tuple{Any}">#</a> <b><u>ClimaLand.DriverAffect</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(affect!</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DriverAffect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)(integrator)</span></span></code></pre></div><p>This function is used by <code>DriverUpdateCallback</code> to perform the updating.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.ImplicitEquationJacobian" href="#ClimaLand.ImplicitEquationJacobian">#</a> <b><u>ClimaLand.ImplicitEquationJacobian</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ImplicitEquationJacobian{M, S}</span></span></code></pre></div><p>A struct containing the necessary information for constructing a block Jacobian matrix used for implicit timestepping.</p><p><code>matrix</code> is a block matrix containing one block on the diagonal for each variable in the model. <code>solver</code> is a diagonal solver because our matrix is block diagonal.</p><p>Note that the diagonal, upper diagonal, and lower diagonal entry values are stored in this struct and updated in place.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.ImplicitEquationJacobian-Tuple{ClimaCore.Fields.FieldVector}" href="#ClimaLand.ImplicitEquationJacobian-Tuple{ClimaCore.Fields.FieldVector}">#</a> <b><u>ClimaLand.ImplicitEquationJacobian</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ImplicitEquationJacobian</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ClimaCore.Fields.FieldVector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Outer constructor for the ImplicitEquationJacobian Jacobian matrix struct.</p><p>For variables that will be stepped implicitly, the Jacobian matrix is a tridiagonal matrix. For variables that will be stepped explicitly, the Jacobian matrix is a negative identity matrix.</p><p>To run a model with one or more prognostic variables stepped implicitly, the Jacobian matrix must be constructed and passed to the solver. All implicitly-stepped variables of the model should be added to the <code>implicit_names</code> tuple, and any explicitly-stepped variables should be added to the <code>explicit_names</code> tuple.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.LandHydrology" href="#ClimaLand.LandHydrology">#</a> <b><u>ClimaLand.LandHydrology</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> LandHydrology{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    FT,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    SM </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Soil.AbstractSoilModel{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    SW </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Pond.AbstractSurfaceWaterModel{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractLandModel{FT}</span></span></code></pre></div><p>A concrete type of land model used for simulating systems with a soil and surface water component.</p><ul><li><p><code>soil</code>: The soil model</p></li><li><p><code>surface_water</code>: The surface water model</p></li></ul><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.LandHydrology-Union{Tuple{}, Tuple{SW}, Tuple{SM}, Tuple{FT}} where {FT, SM&lt;:ClimaLand.Soil.AbstractSoilModel{FT}, SW&lt;:ClimaLand.Pond.AbstractSurfaceWaterModel{FT}}" href="#ClimaLand.LandHydrology-Union{Tuple{}, Tuple{SW}, Tuple{SM}, Tuple{FT}} where {FT, SM&lt;:ClimaLand.Soil.AbstractSoilModel{FT}, SW&lt;:ClimaLand.Pond.AbstractSurfaceWaterModel{FT}}">#</a> <b><u>ClimaLand.LandHydrology</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">LandHydrology{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    land_args</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (;),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    soil_model_type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Type{SM}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    soil_args</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (;),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    surface_water_model_type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Type{SW}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    surface_water_args</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (;),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    FT,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    SM </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Soil.AbstractSoilModel{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    SW </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Pond.AbstractSurfaceWaterModel{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>A constructor for the <code>LandHydrology</code> model, which takes in the concrete model type and required arguments for each component, constructs those models, and constructs the <code>LandHydrology</code> from them.</p><p>Each component model is constructed with everything it needs to be stepped forward in time, including boundary conditions, source terms, and interaction terms.</p><p>Additional arguments, like parameters and driving atmospheric data, are passed in as <code>land_args</code>.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.LandSoilBiogeochemistry" href="#ClimaLand.LandSoilBiogeochemistry">#</a> <b><u>ClimaLand.LandSoilBiogeochemistry</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> LandSoilBiogeochemistry{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    FT,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    SEH </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Soil.EnergyHydrology{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    SB </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Soil.Biogeochemistry.SoilCO2Model{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractLandModel{FT}</span></span></code></pre></div><p>A concrete type of land model used for simulating systems with a soil energy, hydrology, and biogeochemistry component.</p><ul><li><p><code>soil</code>: The soil model</p></li><li><p><code>soilco2</code>: The biochemistry model</p></li></ul><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.LandSoilBiogeochemistry-Union{Tuple{}, Tuple{FT}} where FT" href="#ClimaLand.LandSoilBiogeochemistry-Union{Tuple{}, Tuple{FT}} where FT">#</a> <b><u>ClimaLand.LandSoilBiogeochemistry</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">LandSoilBiogeochemistry{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    soil_args</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (;),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    biogeochemistry_args</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (;),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {FT}</span></span></code></pre></div><p>A constructor for the <code>LandSoilBiogeochemistry</code> model, which takes in the required arguments for each component, constructs those models, and constructs the <code>LandSoilBiogeochemistry</code> from them.</p><p>Each component model is constructed with everything it needs to be stepped forward in time, including boundary conditions, source terms, and interaction terms.</p><p>Additional arguments, like parameters and driving atmospheric data, can be passed in as needed.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.PrescribedAtmosphere" href="#ClimaLand.PrescribedAtmosphere">#</a> <b><u>ClimaLand.PrescribedAtmosphere</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">PrescribedAtmosphere{FT, CA, DT} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractAtmosphericDrivers{FT}</span></span></code></pre></div><p>Container for holding prescribed atmospheric drivers and other information needed for computing turbulent surface fluxes when driving land models in standalone mode.</p><p>The default CO2 concentration is a constant as a function of time, equal to 4.2e-4 mol/mol.</p><p>Since not all models require co2 concentration, the default for that is <code>nothing</code>.</p><ul><li><p><code>liquid_precip</code>: Precipitation (m/s) function of time: positive by definition</p></li><li><p><code>snow_precip</code>: Snow precipitation (m/s) function of time: positive by definition</p></li><li><p><code>T</code>: Prescribed atmospheric temperature (function of time) at the reference height (K)</p></li><li><p><code>u</code>: Prescribed wind speed (function of time) at the reference height (m/s)</p></li><li><p><code>q</code>: Prescribed specific humidity (function of time) at the reference height (_)</p></li><li><p><code>P</code>: Prescribed air pressure (function of time) at the reference height (Pa)</p></li><li><p><code>c_co2</code>: CO2 concentration in atmosphere (mol/mol)</p></li><li><p><code>ref_time</code>: Reference time - the datetime corresponding to t=0 for the simulation</p></li><li><p><code>h</code>: Reference height (m), relative to surface elevation</p></li><li><p><code>gustiness</code>: Minimum wind speed (gustiness; m/s)</p></li><li><p><code>thermo_params</code>: Thermodynamic parameters</p></li></ul><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.PrescribedPrecipitation" href="#ClimaLand.PrescribedPrecipitation">#</a> <b><u>ClimaLand.PrescribedPrecipitation</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">PrescribedPrecipitation{FT, LP} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractAtmosphericDrivers{FT}</span></span></code></pre></div><p>Container for holding prescribed precipitation driver for models which only require precipitation (RichardsModel).</p><ul><li><code>liquid_precip</code>: Precipitation (m/s) function of time: positive by definition</li></ul><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.PrescribedRadiativeFluxes" href="#ClimaLand.PrescribedRadiativeFluxes">#</a> <b><u>ClimaLand.PrescribedRadiativeFluxes</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">PrescribedRadiativeFluxes{FT, SW, LW, DT, T} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractRadiativeDrivers{FT}</span></span></code></pre></div><p>Container for the prescribed radiation functions needed to drive land models in standalone mode.</p><ul><li><p><code>SW_d</code>: Downward shortwave radiation function of time (W/m^2): positive indicates towards surface</p></li><li><p><code>LW_d</code>: Downward longwave radiation function of time (W/m^2): positive indicates towards surface</p></li><li><p><code>ref_time</code>: Reference time - the datetime corresponding to t=0 for the simulation</p></li><li><p><code>θs</code>: Sun zenith angle, in radians</p></li></ul><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.PrescribedSoilOrganicCarbon" href="#ClimaLand.PrescribedSoilOrganicCarbon">#</a> <b><u>ClimaLand.PrescribedSoilOrganicCarbon</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PrescribedSoilOrganicCarbon{FT}</span></span></code></pre></div><p>A type for prescribing soil organic carbon.</p><ul><li><code>soc</code>: Soil organic carbon, function of time and space: kg C/m^3</li></ul><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.PrognosticRunoff" href="#ClimaLand.PrognosticRunoff">#</a> <b><u>ClimaLand.PrognosticRunoff</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">PrognosticRunoff </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Pond.AbstractSurfaceRunoff</span></span></code></pre></div><p>Concrete type of <code>Pond.AbstractSurfaceRunoff</code> for use in LSM models, where precipitation is passed in, but infiltration is computed prognostically.</p><p>This is paired with <code>Soil.RunoffBC</code>: both are used at the same time, ensuring the infiltration used for the boundary condition of soil is also used to compute the runoff for the surface water.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.PrognosticSoil" href="#ClimaLand.PrognosticSoil">#</a> <b><u>ClimaLand.PrognosticSoil</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PrognosticSoil{FT} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractSoilDriver</span></span></code></pre></div><p>Concrete type of AbstractSoilDriver used for dispatch in cases where both a canopy model and soil model are run.</p><ul><li><p><code>α_PAR</code>: Soil albedo for PAR</p></li><li><p><code>α_NIR</code>: Soil albedo for NIR</p></li></ul><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.RootExtraction" href="#ClimaLand.RootExtraction">#</a> <b><u>ClimaLand.RootExtraction</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">RootExtraction{FT} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Soil.AbstractSoilSource{FT}</span></span></code></pre></div><p>Concrete type of Soil.AbstractSoilSource, used for dispatch in an LSM with both soil and plant hydraulic components.</p><p>This is paired with the source term <code>Canopy.PrognosticSoil</code>:both are used at the same time, ensuring that the water flux into the roots is extracted correctly from the soil.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.RunoffBC" href="#ClimaLand.RunoffBC">#</a> <b><u>ClimaLand.RunoffBC</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">RunoffBC </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Soil.AbstractSoilBC</span></span></code></pre></div><p>Concrete type of <code>Soil.AbstractSoilBC</code> for use in LSM models, where precipitation is passed in, but infiltration is computed prognostically. This infiltration is then used to set an upper boundary condition for the soil.</p><p>This is paired with <code>Pond.PrognosticRunoff</code>: both are used at the same time, ensuring that the infiltration used for the boundary condition of soil is also used to compute the runoff for the surface water.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.SavingAffect" href="#ClimaLand.SavingAffect">#</a> <b><u>ClimaLand.SavingAffect</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SavingAffect{saveatType}</span></span></code></pre></div><p>This struct is used by <code>NonInterpSavingCallback</code> to fill <code>saved_values</code> with values of <code>p</code> at various timesteps. The <code>saveiter</code> field allows us to allocate <code>saved_values</code> before the simulation and fill it during the run, rather than pushing to an initially empty structure.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.SavingAffect-Tuple{Any}" href="#ClimaLand.SavingAffect-Tuple{Any}">#</a> <b><u>ClimaLand.SavingAffect</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(affect!</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">SavingAffect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)(integrator)</span></span></code></pre></div><p>This function is used by <code>NonInterpSavingCallback</code> to perform the saving.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.SoilCanopyModel" href="#ClimaLand.SoilCanopyModel">#</a> <b><u>ClimaLand.SoilCanopyModel</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SoilCanopyModel{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    FT,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    MM </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Soil.Biogeochemistry.SoilCO2Model{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    SM </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Soil.EnergyHydrology{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    VM </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Canopy.CanopyModel{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractLandModel{FT}</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;The soil microbe model to be used&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    soilco2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MM</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;The soil model to be used&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    soil</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">SM</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;The canopy model to be used&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    canopy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">VM</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><p>A concrete type of land model used for simulating systems with a canopy and a soil component.</p><ul><li><p><code>soilco2</code>: The soil microbe model to be used</p></li><li><p><code>soil</code>: The soil model to be used</p></li><li><p><code>canopy</code>: The canopy model to be used</p></li></ul><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.SoilCanopyModel-Union{Tuple{}, Tuple{MM}, Tuple{SM}, Tuple{FT}} where {FT, SM&lt;:(ClimaLand.Soil.EnergyHydrology{FT}), MM&lt;:(ClimaLand.Soil.Biogeochemistry.SoilCO2Model{FT})}" href="#ClimaLand.SoilCanopyModel-Union{Tuple{}, Tuple{MM}, Tuple{SM}, Tuple{FT}} where {FT, SM&lt;:(ClimaLand.Soil.EnergyHydrology{FT}), MM&lt;:(ClimaLand.Soil.Biogeochemistry.SoilCO2Model{FT})}">#</a> <b><u>ClimaLand.SoilCanopyModel</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">SoilCanopyModel{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    soilco2_type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Type{MM}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    soilco2_args</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (;),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    land_args</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (;),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    soil_model_type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Type{SM}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    soil_args</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (;),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    canopy_component_types</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (;),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    canopy_component_args</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (;),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    canopy_model_args</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (;),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        FT,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        SM </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Soil.EnergyHydrology{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        MM </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Soil.Biogeochemistry.SoilCO2Model{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span></code></pre></div><p>A constructor for the <code>SoilCanopyModel</code>, which takes in the concrete model type and required arguments for each component, constructs those models, and constructs the <code>SoilCanopyModel</code> from them.</p><p>Each component model is constructed with everything it needs to be stepped forward in time, including boundary conditions, source terms, and interaction terms.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.TopBoundary" href="#ClimaLand.TopBoundary">#</a> <b><u>ClimaLand.TopBoundary</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">TopBoundary{} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractBoundary{}</span></span></code></pre></div><p>A simple object which should be passed into a function to indicate that we are considering the top boundary.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.Canopy.PlantHydraulics.root_water_flux_per_ground_area!-Union{Tuple{FT}, Tuple{ClimaCore.Fields.Field, ClimaLand.PrognosticSoil, ClimaLand.Canopy.PlantHydraulics.PlantHydraulicsModel{FT, PS, T, AA} where {PS, T, AA&lt;:(AbstractArray{FT})}, ClimaCore.Fields.FieldVector, NamedTuple, Any}} where FT" href="#ClimaLand.Canopy.PlantHydraulics.root_water_flux_per_ground_area!-Union{Tuple{FT}, Tuple{ClimaCore.Fields.Field, ClimaLand.PrognosticSoil, ClimaLand.Canopy.PlantHydraulics.PlantHydraulicsModel{FT, PS, T, AA} where {PS, T, AA&lt;:(AbstractArray{FT})}, ClimaCore.Fields.FieldVector, NamedTuple, Any}} where FT">#</a> <b><u>ClimaLand.Canopy.PlantHydraulics.root_water_flux_per_ground_area!</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">PlantHydraulics</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">root_water_flux_per_ground_area!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    fa</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ClimaCore.Fields.Field</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    s</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PrognosticSoil</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Canopy.PlantHydraulics.PlantHydraulicsModel{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ClimaCore.Fields.FieldVector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    t,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>An extension of the <code>PlantHydraulics.root_water_flux_per_ground_area!</code> function, which returns the net flux of water between the roots and the soil, per unit ground area, when both soil and plant hydraulics are modeled prognostically. This is for use in an LSM.</p><p>It is computed by summing the flux of water per ground area between roots and soil at each soil layer.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.Canopy.canopy_radiant_energy_fluxes!-Union{Tuple{PSE}, Tuple{F}, Tuple{NamedTuple, ClimaLand.PrognosticSoil{F}, Any, PrescribedRadiativeFluxes, PSE, ClimaCore.Fields.FieldVector, Any}} where {F, PSE}" href="#ClimaLand.Canopy.canopy_radiant_energy_fluxes!-Union{Tuple{PSE}, Tuple{F}, Tuple{NamedTuple, ClimaLand.PrognosticSoil{F}, Any, PrescribedRadiativeFluxes, PSE, ClimaCore.Fields.FieldVector, Any}} where {F, PSE}">#</a> <b><u>ClimaLand.Canopy.canopy_radiant_energy_fluxes!</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Canopy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">canopy_radiant_energy_fluxes!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                                     s</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PrognosticSoil{F}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                                     canopy,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                                     radiation</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PrescribedRadiativeFluxes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                                     earth_param_set</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PSE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                                     Y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ClimaCore.Fields.FieldVector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                                     t,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                                    ) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {FT, PSE}</span></span></code></pre></div><p>In standalone mode, this function computes and stores the net long and short wave radition, in W/m^2, absorbed by the canopy.</p><p>In integrated mode, we have already computed those quantities in <code>lsm_radiant_energy_fluxes!</code>, so this method does nothing additional.</p><p>LW and SW net radiation are stored in <code>p.canopy.radiative_transfer.LW_n</code> and <code>p.canopy.radiative_transfer.SW_n</code>.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.Canopy.root_energy_flux_per_ground_area!-Union{Tuple{F}, Tuple{FT}, Tuple{ClimaCore.Fields.Field, ClimaLand.PrognosticSoil{F}, ClimaLand.Canopy.AbstractCanopyEnergyModel{FT}, ClimaCore.Fields.FieldVector, NamedTuple, Any}} where {FT, F}" href="#ClimaLand.Canopy.root_energy_flux_per_ground_area!-Union{Tuple{F}, Tuple{FT}, Tuple{ClimaCore.Fields.Field, ClimaLand.PrognosticSoil{F}, ClimaLand.Canopy.AbstractCanopyEnergyModel{FT}, ClimaCore.Fields.FieldVector, NamedTuple, Any}} where {FT, F}">#</a> <b><u>ClimaLand.Canopy.root_energy_flux_per_ground_area!</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">root_energy_flux_per_ground_area!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    fa_energy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ClimaCore.Fields.Field</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    s</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PrognosticSoil{F}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Canopy.AbstractCanopyEnergyModel{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ClimaCore.Fields.FieldVector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    t,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {FT, F}</span></span></code></pre></div><p>A method computing the energy flux associated with the root-soil water flux, which returns 0 in cases where we do not need to track this quantity: in this case, when the canopy energy is tracked, but we are using a <code>PrescribedSoil</code> model (non-prognostic soil model).</p><p>Note that this energy flux is not typically included in land surface models. We account for it when the soil model is prognostic because the soil model includes the energy in the soil water in its energy balance; therefore, in order to conserve energy, the canopy model must account for it as well.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.Domains.coordinates-Tuple{ClimaLand.AbstractLandModel}" href="#ClimaLand.Domains.coordinates-Tuple{ClimaLand.AbstractLandModel}">#</a> <b><u>ClimaLand.Domains.coordinates</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Domains</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">coordinates</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractLandModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Returns a NamedTuple of the unique set of coordinates for the LSM <code>model</code>, where the unique set is taken over the coordinates of all of the subcomponents.</p><p>For example, an LSM with a single layer snow model, multi-layer soil model, and canopy model would have a coordinate set corresponding to the coordinates of the surface (snow), the subsurface coordinates (soil) and the coordinates of the surface (canopy). This would return the coordinates of the surface and subsurface. These are distinct because the subsurface coordinates correspond to the centers of the layers, while the surface corresponds to the top face of the domain.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.DriverUpdateCallback-Union{Tuple{FT}, Tuple{Vector{FT}, Any}} where FT" href="#ClimaLand.DriverUpdateCallback-Union{Tuple{FT}, Tuple{Vector{FT}, Any}} where FT">#</a> <b><u>ClimaLand.DriverUpdateCallback</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DriverUpdateCallback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(updateat</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Vector{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, updatefunc)</span></span></code></pre></div><p>Constructs a DiscreteCallback which updates the cache <code>p.drivers</code> at each time specified by <code>updateat</code>, using the function <code>updatefunc</code> which takes as arguments (p,t).</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.NonInterpSavingCallback-Union{Tuple{FT}, Tuple{Any, Vector{FT}}} where FT" href="#ClimaLand.NonInterpSavingCallback-Union{Tuple{FT}, Tuple{Any, Vector{FT}}} where FT">#</a> <b><u>ClimaLand.NonInterpSavingCallback</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NonInterpSavingCallback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(saved_values, saveat</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Vector{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Constructs a DiscreteCallback which saves the time and cache <code>p</code> at each time specified by <code>saveat</code>. The first argument must be a named tuple containing <code>t</code> and <code>saveval</code>, each having the same length as <code>saveat</code>.</p><p>Important: The times in <code>saveat</code> must be times the simulation is evaluated at for this function to work.</p><p>Note that unlike SciMLBase&#39;s SavingCallback, this version does not interpolate if a time in saveat is not a multiple of our timestep. This function also doesn&#39;t work with adaptive timestepping.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.Pond.surface_runoff-Tuple{ClimaLand.PrognosticRunoff, ClimaCore.Fields.FieldVector, NamedTuple, Any}" href="#ClimaLand.Pond.surface_runoff-Tuple{ClimaLand.PrognosticRunoff, ClimaCore.Fields.FieldVector, NamedTuple, Any}">#</a> <b><u>ClimaLand.Pond.surface_runoff</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Pond</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">surface_runoff</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    runoff</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PrognosticRunoff</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ClimaCore.Fields.FieldVector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    t,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Extension of the <code>Pond.surface_runoff</code> function, which computes the surface runoff, for use in an LSM when the runoff is determined prognostically.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.Soil.Biogeochemistry.soil_moisture-Tuple{PrognosticMet, Vararg{Any, 4}}" href="#ClimaLand.Soil.Biogeochemistry.soil_moisture-Tuple{PrognosticMet, Vararg{Any, 4}}">#</a> <b><u>ClimaLand.Soil.Biogeochemistry.soil_moisture</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">soil_moisture</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(driver</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PrognosticSoil</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, p, Y, t, z)</span></span></code></pre></div><p>Returns the volumetric liquid fraction, computed by the soil model from the prognostic liquid and ice fractions.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.Soil.Biogeochemistry.soil_temperature-Tuple{PrognosticMet, Vararg{Any, 4}}" href="#ClimaLand.Soil.Biogeochemistry.soil_temperature-Tuple{PrognosticMet, Vararg{Any, 4}}">#</a> <b><u>ClimaLand.Soil.Biogeochemistry.soil_temperature</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">soil_temperature</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(driver</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PrognosticSoil</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, p, Y, t, z)</span></span></code></pre></div><p>Returns the prognostic soil temperature.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.Soil.soil_boundary_fluxes!-Union{Tuple{FT}, Tuple{ClimaLand.Soil.AtmosDrivenFluxBC{&lt;:PrescribedAtmosphere, &lt;:ClimaLand.CanopyRadiativeFluxes}, TopBoundary, ClimaLand.Soil.EnergyHydrology{FT}, Vararg{Any, 4}}} where FT" href="#ClimaLand.Soil.soil_boundary_fluxes!-Union{Tuple{FT}, Tuple{ClimaLand.Soil.AtmosDrivenFluxBC{&lt;:PrescribedAtmosphere, &lt;:ClimaLand.CanopyRadiativeFluxes}, TopBoundary, ClimaLand.Soil.EnergyHydrology{FT}, Vararg{Any, 4}}} where FT">#</a> <b><u>ClimaLand.Soil.soil_boundary_fluxes!</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">soil_boundary_fluxes!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    bc</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AtmosDrivenFluxBC{&lt;:PrescribedAtmosphere, &lt;:CanopyRadiativeFluxes}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    boundary</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ClimaLand.TopBoundary</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    soil</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">EnergyHydrology{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Δz,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Y,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    p,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    t,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {FT}</span></span></code></pre></div><p>A method of <code>ClimaLand.Soil.soil_boundary_fluxes!</code> which is used for integrated land surface models; this computes and returns the net energy and water flux at the surface of the soil for use as boundary conditions.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.add_drivers_to_cache-Tuple{Any, AbstractModel}" href="#ClimaLand.add_drivers_to_cache-Tuple{Any, AbstractModel}">#</a> <b><u>ClimaLand.add_drivers_to_cache</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">add_drivers_to_cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(p, model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Adds driver variables to the cache; the default is not add anything, consistent with the default of no additional driver variables in the cache.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.add_drivers_to_cache-Tuple{NamedTuple, AbstractModel, Any}" href="#ClimaLand.add_drivers_to_cache-Tuple{NamedTuple, AbstractModel, Any}">#</a> <b><u>ClimaLand.add_drivers_to_cache</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">add_drivers_to_cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, coords)</span></span></code></pre></div><p>Creates the driver variable NamedTuple (atmospheric and radiative forcing, etc), and merges it into <code>p</code> under the key <code>drivers</code>. If no driver variables are required, <code>p</code> is returned unchanged.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.add_dss_buffer_to_aux-Tuple{NamedTuple, ClimaLand.Domains.AbstractDomain}" href="#ClimaLand.add_dss_buffer_to_aux-Tuple{NamedTuple, ClimaLand.Domains.AbstractDomain}">#</a> <b><u>ClimaLand.add_dss_buffer_to_aux</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">add_dss_buffer_to_aux</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, domain</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Domains.AbstractDomain</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Fallback method for <code>add_dss_buffer_to_aux</code> which does not add a dss buffer.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.add_dss_buffer_to_aux-Tuple{NamedTuple, Union{ClimaLand.Domains.HybridBox, ClimaLand.Domains.SphericalShell}}" href="#ClimaLand.add_dss_buffer_to_aux-Tuple{NamedTuple, Union{ClimaLand.Domains.HybridBox, ClimaLand.Domains.SphericalShell}}">#</a> <b><u>ClimaLand.add_dss_buffer_to_aux</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">add_dss_buffer_to_aux</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    domain</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Union{Domains.HybridBox, Domains.SphericalShell}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Adds a 2d and 3d dss buffer corresponding to <code>domain.space</code> to <code>p</code> with the names <code>dss_buffer_3d</code>, and <code>dss_buffer_2d</code>.</p><p>This buffer is added so that we preallocate memory for the dss step and do not allocate it at every timestep. We use a name which specifically denotes that the buffer is on a 3d space. This is because some models require both a buffer on the 3d space as well as on the surface 2d space, e.g. in the case when they have prognostic variables that are only defined on the surface space.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.add_dss_buffer_to_aux-Tuple{NamedTuple, Union{ClimaLand.Domains.Plane, ClimaLand.Domains.SphericalSurface}}" href="#ClimaLand.add_dss_buffer_to_aux-Tuple{NamedTuple, Union{ClimaLand.Domains.Plane, ClimaLand.Domains.SphericalSurface}}">#</a> <b><u>ClimaLand.add_dss_buffer_to_aux</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">add_dss_buffer_to_aux</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    domain</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Union{Domains.Plane, Domains.SphericalSurface}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Adds a dss buffer corresponding to <code>domain.space</code> to <code>p</code> with the name <code>dss_buffer_2d</code>, appropriate for a 2D domain.</p><p>This buffer is added so that we preallocate memory for the dss step and do not allocate it at every timestep. We use a name which specifically denotes that the buffer is on a 2d space. This is because some models require both a buffer on the 3d space as well as on the surface 2d space, e.g. in the case when they have prognostic variables that are only defined on the surface space.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.auxiliary_domain_names-Tuple{AbstractModel}" href="#ClimaLand.auxiliary_domain_names-Tuple{AbstractModel}">#</a> <b><u>ClimaLand.auxiliary_domain_names</u></b> — <i>Method</i>. <p>auxiliary_domain_names(m::AbstractModel)</p><p>Returns the domain names for the auxiliary variables in the form of a tuple.</p><p>Examples: (:surface, :surface, :subsurface).</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.auxiliary_types-Tuple{AbstractModel}" href="#ClimaLand.auxiliary_types-Tuple{AbstractModel}">#</a> <b><u>ClimaLand.auxiliary_types</u></b> — <i>Method</i>. <p FT="">auxiliary_types(m::AbstractModel{FT}) where</p><p>Returns the auxiliary variable types for the model in the form of a tuple.</p><p>Types provided must have <code>ClimaCore.RecursiveApply.rzero(T::DataType)</code> defined. Common examples include</p><ul><li>Float64, Float32 for scalar variables (a scalar value at each</li></ul><p>coordinate point)</p><ul><li>SVector{k,Float64} for a mutable but statically sized array of</li></ul><p>length <code>k</code> at each coordinate point.</p><ul><li>Note that Arrays, MVectors are not isbits and cannot be used.</li></ul><p>Here, the coordinate points are those returned by coordinates(model).</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.auxiliary_vars-Tuple{AbstractModel}" href="#ClimaLand.auxiliary_vars-Tuple{AbstractModel}">#</a> <b><u>ClimaLand.auxiliary_vars</u></b> — <i>Method</i>. <p>auxiliary_vars(m::AbstractModel)</p><p>Returns the auxiliary variable symbols for the model in the form of a tuple.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.boundary_flux-Tuple{AbstractBC, AbstractBoundary, Any, Vararg{Any}}" href="#ClimaLand.boundary_flux-Tuple{AbstractBC, AbstractBoundary, Any, Vararg{Any}}">#</a> <b><u>ClimaLand.boundary_flux</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">boundary_flux</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bc</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractBC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, bound_type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractBoundary</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Δz, _</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ClimaCore.Fields.Field</span></span></code></pre></div><p>A function which returns the correct boundary flux given any boundary condition (BC).</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.boundary_flux-Tuple{ClimaLand.RunoffBC, TopBoundary, ClimaLand.Soil.RichardsModel, ClimaCore.Fields.Field, ClimaCore.Fields.FieldVector, NamedTuple, Any}" href="#ClimaLand.boundary_flux-Tuple{ClimaLand.RunoffBC, TopBoundary, ClimaLand.Soil.RichardsModel, ClimaCore.Fields.Field, ClimaCore.Fields.FieldVector, NamedTuple, Any}">#</a> <b><u>ClimaLand.boundary_flux</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ClimaLand</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">boundary_flux</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    bc</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">RunoffBC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    ::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">TopBoundary</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Soil.RichardsModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Δz</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">FT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ClimaCore.Fields.FieldVector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    t,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    params,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ClimaCore.Fields.Field</span></span></code></pre></div><p>Extension of the <code>ClimaLand.boundary_flux</code> function, which returns the water volume boundary flux for the soil. At the top boundary, return the soil infiltration (computed each step and stored in <code>p.soil_infiltration</code>).</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.boundary_var_domain_names-Tuple{AbstractBC, AbstractBoundary}" href="#ClimaLand.boundary_var_domain_names-Tuple{AbstractBC, AbstractBoundary}">#</a> <b><u>ClimaLand.boundary_var_domain_names</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">boundary_var_domain_names</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractBC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ClimaLand.AbstractBoundary</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>The list of domain names for additional variables to add to the model auxiliary state, for models solving PDEs, which defaults to adding storage on the surface domain for the top or bottom boundary flux fields, but which can be extended depending on the type of boundary condition used.</p><p>Use in conjunction with <code>boundary_vars</code>, in the same way you would use <code>auxiliary_var_domain_names</code>.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.boundary_var_types-Union{Tuple{FT}, Tuple{AbstractModel{FT}, AbstractBC, AbstractBoundary}} where FT" href="#ClimaLand.boundary_var_types-Union{Tuple{FT}, Tuple{AbstractModel{FT}, AbstractBC, AbstractBoundary}} where FT">#</a> <b><u>ClimaLand.boundary_var_types</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">boundary_var_types</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractModel{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractBC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ClimaLand.AbstractBoundary</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {FT}</span></span></code></pre></div><p>The list of types for additional variables to add to the model auxiliary state, for models solving PDEs, which defaults to adding a scalar variable on the surface domain for the top or bottom boundary flux fields, but which can be extended depending on the type of boundary condition used.</p><p>Use in conjunction with <code>boundary_vars</code>, in the same way you would use <code>auxiliary_var_types</code>. The use of a scalar is appropriate for models with a single PDE; models with multiple PDEs will need to supply multiple scalar fields.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.boundary_vars-Tuple{AbstractBC, BottomBoundary}" href="#ClimaLand.boundary_vars-Tuple{AbstractBC, BottomBoundary}">#</a> <b><u>ClimaLand.boundary_vars</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">boundary_vars</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractBC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ClimaLand.BottomBoundary</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>The list of symbols for additional variables to add to the model auxiliary state, for models solving PDEs, which defaults to adding storage for the bottom boundary flux fields, but which can be extended depending on the type of boundary condition used.</p><p>For the Soil and SoilCO2 models - which solve PDEs - the tendency functions and update_boundary_fluxes functions are coded to access the field <code>:bottom_bc</code> to be present in the model cache, which is why this is the default. If this is not your (PDE) model&#39;s desired behavior, you can extend this function with a new method.</p><p>Use this function in the exact same way you would use <code>auxiliary_vars</code>.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.boundary_vars-Tuple{AbstractBC, TopBoundary}" href="#ClimaLand.boundary_vars-Tuple{AbstractBC, TopBoundary}">#</a> <b><u>ClimaLand.boundary_vars</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">boundary_vars</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractBC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> , </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ClimaLand.TopBoundary</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>The list of symbols for additional variables to add to the model auxiliary state, for models solving PDEs, which defaults to adding storage for the top boundary flux fields, but which can be extended depending on the type of boundary condition used.</p><p>For the Soil and SoilCO2 models - which solve PDEs - the tendency functions and update_boundary_fluxes functions are coded to access the field <code>:top_bc</code> to be present in the model cache, which is why this is the default. If this is not your (PDE) model&#39;s desired behavior, you can extend this function with a new method.</p><p>Use this function in the exact same way you would use <code>auxiliary_vars</code>.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.compute_ρ_sfc-Tuple{Any, Any, Any}" href="#ClimaLand.compute_ρ_sfc-Tuple{Any, Any, Any}">#</a> <b><u>ClimaLand.compute_ρ_sfc</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">compute_ρ_sfc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(thermo_params, ts_in, T_sfc)</span></span></code></pre></div><p>Computes the density of air at the surface, given the temperature at the surface T_sfc, the thermodynamic state of the atmosphere, ts_in, and a set of Clima.Thermodynamics parameters thermo_params.</p><p>This assumes the ideal gas law and hydrostatic balance to extrapolate to the surface.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.condition-Tuple{Any}" href="#ClimaLand.condition-Tuple{Any}">#</a> <b><u>ClimaLand.condition</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(saveat)</span></span></code></pre></div><p>This function returns a function with the type signature expected by <code>SciMLBase.DiscreteCallback</code>, and determines whether <code>affect!</code> gets called in the callback. This implementation simply checks if the current time is contained in the list of affect times used for the callback.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.diffusive_flux-NTuple{4, Any}" href="#ClimaLand.diffusive_flux-NTuple{4, Any}">#</a> <b><u>ClimaLand.diffusive_flux</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">diffusive_flux</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(K, x_2, x_1, Δz)</span></span></code></pre></div><p>Calculates the diffusive flux of a quantity x (water content, temp, etc). Here, x_2 = x(z + Δz) and x_1 = x(z), so x_2 is at a larger z by convention.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.displacement_height-Union{Tuple{FT}, Tuple{AbstractModel{FT}, Any, Any}} where FT" href="#ClimaLand.displacement_height-Union{Tuple{FT}, Tuple{AbstractModel{FT}, Any, Any}} where FT">#</a> <b><u>ClimaLand.displacement_height</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">displacement_height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Y, p)</span></span></code></pre></div><p>A helper function which returns the displacement height for a given model; the default is zero.</p><p>Extending this function for your model is only necessary if you need to compute surface fluxes and radiative fluxes at the surface using the functions in this file.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.driver_initialize-NTuple{4, Any}" href="#ClimaLand.driver_initialize-NTuple{4, Any}">#</a> <b><u>ClimaLand.driver_initialize</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">driver_initialize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cb, u, t, integrator)</span></span></code></pre></div><p>This function updates <code>p.drivers</code> at the start of the simulation.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.dss!-Tuple{ClimaCore.Fields.FieldVector, NamedTuple, Any}" href="#ClimaLand.dss!-Tuple{ClimaCore.Fields.FieldVector, NamedTuple, Any}">#</a> <b><u>ClimaLand.dss!</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  dss!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ClimaCore.Fields.FieldVector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, t)</span></span></code></pre></div><p>Computes the weighted direct stiffness summation and updates <code>Y</code> in place. In the case of a column domain, no dss operations are performed.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.dss_helper!-Tuple{ClimaCore.Fields.Field, ClimaCore.Spaces.AbstractSpectralElementSpace, NamedTuple}" href="#ClimaLand.dss_helper!-Tuple{ClimaCore.Fields.Field, ClimaCore.Spaces.AbstractSpectralElementSpace, NamedTuple}">#</a> <b><u>ClimaLand.dss_helper!</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">dss_helper!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    field</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ClimaCore.Fields.Field</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    space</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ClimaCore.Spaces.AbstractSpectralElementSpace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Method of <code>dss_helper!</code> which performs dss on a Field which is defined on a 2-dimensional domain.</p><p>The assumption is that Y contains FieldVectors which themselves contain either FieldVectors or Fields, and that the final unpacked variable is a Field. This method is invoked when the element cannot be unpacked further. We further assume that all fields in <code>Y</code> are defined on cell centers.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.dss_helper!-Tuple{ClimaCore.Fields.Field, ClimaCore.Spaces.ExtrudedFiniteDifferenceSpace, NamedTuple}" href="#ClimaLand.dss_helper!-Tuple{ClimaCore.Fields.Field, ClimaCore.Spaces.ExtrudedFiniteDifferenceSpace, NamedTuple}">#</a> <b><u>ClimaLand.dss_helper!</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">dss_helper!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    field</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ClimaCore.Fields.Field</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    space</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ClimaCore.Spaces.ExtrudedFiniteDifferenceSpace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Method of <code>dss_helper!</code> which performs dss on a Field which is defined on a 3-dimensional domain.</p><p>The assumption is that Y contains FieldVectors which themselves contain either FieldVectors or Fields, and that the final unpacked variable is a Field. This method is invoked when the element cannot be unpacked further. We further assume that all fields in <code>Y</code> are defined on cell centers.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.dss_helper!-Tuple{ClimaCore.Fields.FieldVector, Any, NamedTuple}" href="#ClimaLand.dss_helper!-Tuple{ClimaCore.Fields.FieldVector, Any, NamedTuple}">#</a> <b><u>ClimaLand.dss_helper!</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">dss_helper!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(field_vec</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ClimaCore.Fields.FieldVector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, space, p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Method of <code>dss_helper!</code> which unpacks properties of Y when on a domain that is 2-dimensional in the horizontal.</p><p>The assumption is that Y contains FieldVectors which themselves contain either FieldVectors or Fields, and that the final unpacked variable is a Field. This method is invoked when the current property itself contains additional property(ies).</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.dss_helper!-Tuple{Union{ClimaCore.Fields.Field, Vector}, Union{Tuple, ClimaCore.Spaces.FiniteDifferenceSpace, ClimaCore.Spaces.PointSpace}, Any}" href="#ClimaLand.dss_helper!-Tuple{Union{ClimaCore.Fields.Field, Vector}, Union{Tuple, ClimaCore.Spaces.FiniteDifferenceSpace, ClimaCore.Spaces.PointSpace}, Any}">#</a> <b><u>ClimaLand.dss_helper!</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">dss_helper!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    field</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Union{ClimaCore.Fields.Field, Vector}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    space</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Union</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ClimaCore</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Spaces</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">FiniteDifferenceSpace,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ClimaCore</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Spaces</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">PointSpace,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Tuple,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }, _)</span></span></code></pre></div><p>Method of <code>dss_helper!</code> which does not perform dss.</p><p>This is intended for spaces that don&#39;t use spectral elements (FiniteDifferenceSpace, PointSpace, etc). Model components with no prognostic variables appear in Y as empty Vectors, and also do not need dss.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.get_drivers-Tuple{AbstractModel}" href="#ClimaLand.get_drivers-Tuple{AbstractModel}">#</a> <b><u>ClimaLand.get_drivers</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">get_drivers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Returns the <code>driver</code> objects for the model - atmospheric and radiative forcing, etc - as a tuple (atmos, radiation, ...). If no drivers are needed by a model, an empty tuple should be returned</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.heaviside-Tuple{FT} where FT" href="#ClimaLand.heaviside-Tuple{FT} where FT">#</a> <b><u>ClimaLand.heaviside</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> heaviside</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">FT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">FT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {FT}</span></span></code></pre></div><p>Computes the heaviside function.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.infiltration_at_point-Union{Tuple{FT}, Tuple{FT, FT, FT}} where FT&lt;:AbstractFloat" href="#ClimaLand.infiltration_at_point-Union{Tuple{FT}, Tuple{FT, FT, FT}} where FT&lt;:AbstractFloat">#</a> <b><u>ClimaLand.infiltration_at_point</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">infiltration_at_point</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(η</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">FT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, i_c</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">FT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, P</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">FT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Returns the infiltration given pond height η, infiltration capacity, and precipitation.</p><p>This is defined such that positive means into soil.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.infiltration_capacity-Tuple{ClimaCore.Fields.FieldVector, NamedTuple}" href="#ClimaLand.infiltration_capacity-Tuple{ClimaCore.Fields.FieldVector, NamedTuple}">#</a> <b><u>ClimaLand.infiltration_capacity</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> infiltration_capacity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ClimaCore.Fields.FieldVector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Function which computes the infiltration capacity of the soil based on soil characteristics, moisture levels, and pond height.</p><p>Defined such that positive means into soil.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.initialize-Union{Tuple{AbstractModel{FT}}, Tuple{FT}} where FT" href="#ClimaLand.initialize-Union{Tuple{AbstractModel{FT}}, Tuple{FT}} where FT">#</a> <b><u>ClimaLand.initialize</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">initialize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Creates the prognostic and auxiliary states structures, but with unset values; constructs and returns the coordinates for the <code>model</code> domain. We may need to consider this default more as we add diverse components and <code>Simulations</code>.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.initialize_auxiliary-Union{Tuple{FT}, Tuple{AbstractModel{FT}, Any}} where FT" href="#ClimaLand.initialize_auxiliary-Union{Tuple{FT}, Tuple{AbstractModel{FT}, Any}} where FT">#</a> <b><u>ClimaLand.initialize_auxiliary</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">initialize_auxiliary</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, state</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Returns a NamedTuple of auxiliary variables for <code>model</code> with the required structure, with values equal to <code>similar(state)</code>. This assumes that all auxiliary variables are defined over the entire domain, and that all auxiliary variables have the same dimension and type. The auxiliary variables NamedTuple can also hold preallocated objects which are not Fields.</p><p>If a model has no auxiliary variables, the returned NamedTuple contains only an empty array.</p><p>The input <code>state</code> is an array-like object, usually a ClimaCore Field or a Vector{FT}.</p><p>Adjustments to this - for example because different auxiliary variables have different dimensions - require defining a new method.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.initialize_drivers-Tuple{ClimaLand.AbstractClimaLandDrivers, Any}" href="#ClimaLand.initialize_drivers-Tuple{ClimaLand.AbstractClimaLandDrivers, Any}">#</a> <b><u>ClimaLand.initialize_drivers</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">initialize_drivers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractClimaLandDrivers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, coords)</span></span></code></pre></div><p>Creates and returns a default empty NamedTuple for AbstractClimaLandDrivers. More generally this should return a named tuple of the driver fields, which will then be stored in the cache under <code>p.drivers</code>.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.initialize_drivers-Tuple{Tuple, Any}" href="#ClimaLand.initialize_drivers-Tuple{Tuple, Any}">#</a> <b><u>ClimaLand.initialize_drivers</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">initialize_drivers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(driver_tuple</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Tuple</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                   coords)</span></span></code></pre></div><p>Creates and returns a NamedTuple with the cache variables required by the model drivers.</p><p>If no forcing is required, driver_tuple is an empty tuple, and an empty NamedTuple is returned.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.initialize_drivers-Union{Tuple{FT}, Tuple{CoupledAtmosphere{FT}, Any}} where FT" href="#ClimaLand.initialize_drivers-Union{Tuple{FT}, Tuple{CoupledAtmosphere{FT}, Any}} where FT">#</a> <b><u>ClimaLand.initialize_drivers</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">initialize_drivers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">CoupledAtmosphere{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, coords) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {FT}</span></span></code></pre></div><p>Creates and returns a NamedTuple for the <code>CoupledAtmosphere</code> driver, with variables <code>P_liq</code>, and <code>P_snow</code>. This is intended to be used in coupled simulations with ClimaCoupler.jl</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.initialize_drivers-Union{Tuple{FT}, Tuple{PrescribedAtmosphere{FT}, Any}} where FT" href="#ClimaLand.initialize_drivers-Union{Tuple{FT}, Tuple{PrescribedAtmosphere{FT}, Any}} where FT">#</a> <b><u>ClimaLand.initialize_drivers</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">initialize_drivers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PrescribedAtmosphere{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, coords) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {FT}</span></span></code></pre></div><p>Creates and returns a NamedTuple for the <code>PrescribedAtmosphere</code> driver, with variables <code>P_liq</code>, <code>P_snow</code>, and air temperature <code>T</code>, pressure <code>P</code>, horizontal wind speed <code>u</code>, specific humidity <code>q</code>, and CO2 concentration <code>c_co2</code>.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.initialize_drivers-Union{Tuple{FT}, Tuple{PrescribedPrecipitation{FT}, Any}} where FT" href="#ClimaLand.initialize_drivers-Union{Tuple{FT}, Tuple{PrescribedPrecipitation{FT}, Any}} where FT">#</a> <b><u>ClimaLand.initialize_drivers</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">initialize_drivers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PrescribedPrecipitation{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, coords) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {FT}</span></span></code></pre></div><p>Creates and returns a NamedTuple for the <code>PrescribedPrecipitation</code> driver, with variable <code>P_liq</code>.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.initialize_drivers-Union{Tuple{FT}, Tuple{PrescribedRadiativeFluxes{FT}, Any}} where FT" href="#ClimaLand.initialize_drivers-Union{Tuple{FT}, Tuple{PrescribedRadiativeFluxes{FT}, Any}} where FT">#</a> <b><u>ClimaLand.initialize_drivers</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">initialize_drivers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PrescribedRadiativeFluxes{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, coords) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {FT}</span></span></code></pre></div><p>Creates and returns a NamedTuple for the <code>PrescribedRadiativeFluxes</code> driver, with variables <code>SW_d</code>, <code>LW_d</code>, and zenith angle <code>θ_s</code>.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.initialize_drivers-Union{Tuple{FT}, Tuple{PrescribedSoilOrganicCarbon{FT}, Any}} where FT" href="#ClimaLand.initialize_drivers-Union{Tuple{FT}, Tuple{PrescribedSoilOrganicCarbon{FT}, Any}} where FT">#</a> <b><u>ClimaLand.initialize_drivers</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">initialize_drivers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PrescribedSoilOrganicCarbon{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, coords) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {FT}</span></span></code></pre></div><p>Creates and returns a NamedTuple for the <code>PrescribedSoilOrganicCarbon</code> driver, with variable <code>soc</code>.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.initialize_lsm_aux-Tuple{ClimaLand.AbstractLandModel, Any}" href="#ClimaLand.initialize_lsm_aux-Tuple{ClimaLand.AbstractLandModel, Any}">#</a> <b><u>ClimaLand.initialize_lsm_aux</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">initialize_lsm_aux</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(land</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractLandModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><p>Initializes additional auxiliary variables required in integrated models, and not existing in the individual component models auxiliary vars.</p><p>Additional auxiliary variables are specified by <code>lsm_aux_vars</code>, their types by <code>lsm_aux_types</code>, and their domain names by <code>lsm_aux_domain_names</code>. This function should be called during <code>initialize_auxiliary</code> step.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.initialize_prognostic-Union{Tuple{FT}, Tuple{AbstractModel{FT}, Any}} where FT" href="#ClimaLand.initialize_prognostic-Union{Tuple{FT}, Tuple{AbstractModel{FT}, Any}} where FT">#</a> <b><u>ClimaLand.initialize_prognostic</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">initialize_prognostic</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, state</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Returns a FieldVector of prognostic variables for <code>model</code> with the required structure, with values equal to <code>similar(state)</code>. This assumes that all prognostic variables are defined over the entire domain, and that all prognostic variables have the same dimension and type.</p><p>If a model has no prognostic variables, the returned FieldVector contains only an empty array.</p><p>The input <code>state</code> is an array-like object, usually a ClimaCore Field or a Vector{FT}.</p><p>Adjustments to this - for example because different prognostic variables have different dimensions - require defining a new method.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.land_components-Tuple{ClimaLand.AbstractLandModel}" href="#ClimaLand.land_components-Tuple{ClimaLand.AbstractLandModel}">#</a> <b><u>ClimaLand.land_components</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">land_components</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(land</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractLandModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Returns the component names of the <code>land</code> model, by calling <code>propertynames(land)</code>.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.lsm_aux_domain_names-Tuple{ClimaLand.AbstractLandModel}" href="#ClimaLand.lsm_aux_domain_names-Tuple{ClimaLand.AbstractLandModel}">#</a> <b><u>ClimaLand.lsm_aux_domain_names</u></b> — <i>Method</i>. <p>lsm_aux_domain_names(m::AbstractLandModel)</p><p>Returns the additional domain symbols in the form of a tuple e.g. :surface or :subsurface.</p><p>This is only required for variables shared between land submodels, and only needed for multi-component models, not standalone components. Component-specific variables should be listed as prognostic or auxiliary variables which do not require this to initialize.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.lsm_aux_domain_names-Tuple{SoilCanopyModel}" href="#ClimaLand.lsm_aux_domain_names-Tuple{SoilCanopyModel}">#</a> <b><u>ClimaLand.lsm_aux_domain_names</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">lsm_aux_domain_names</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">SoilCanopyModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>The domain names of the additional auxiliary variables that are included in the integrated Soil-Canopy model.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.lsm_aux_types-Tuple{ClimaLand.AbstractLandModel}" href="#ClimaLand.lsm_aux_types-Tuple{ClimaLand.AbstractLandModel}">#</a> <b><u>ClimaLand.lsm_aux_types</u></b> — <i>Method</i>. <p>lsm_aux_types(m::AbstractLandModel)</p><p>Returns the shared additional aux variable types for the model in the form of a tuple.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.lsm_aux_types-Union{Tuple{SoilCanopyModel{FT, MM, SM, VM} where {MM&lt;:(ClimaLand.Soil.Biogeochemistry.SoilCO2Model{FT}), SM&lt;:(ClimaLand.Soil.EnergyHydrology{FT}), VM&lt;:(ClimaLand.Canopy.CanopyModel{FT})}}, Tuple{FT}} where FT" href="#ClimaLand.lsm_aux_types-Union{Tuple{SoilCanopyModel{FT, MM, SM, VM} where {MM&lt;:(ClimaLand.Soil.Biogeochemistry.SoilCO2Model{FT}), SM&lt;:(ClimaLand.Soil.EnergyHydrology{FT}), VM&lt;:(ClimaLand.Canopy.CanopyModel{FT})}}, Tuple{FT}} where FT">#</a> <b><u>ClimaLand.lsm_aux_types</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">lsm_aux_types</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">SoilCanopyModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>The types of the additional auxiliary variables that are included in the integrated Soil-Canopy model.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.lsm_aux_vars-Tuple{ClimaLand.AbstractLandModel}" href="#ClimaLand.lsm_aux_vars-Tuple{ClimaLand.AbstractLandModel}">#</a> <b><u>ClimaLand.lsm_aux_vars</u></b> — <i>Method</i>. <p>lsm_aux_vars(m::AbstractLandModel)</p><p>Returns the additional aux variable symbols for the model in the form of a tuple.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.lsm_aux_vars-Tuple{SoilCanopyModel}" href="#ClimaLand.lsm_aux_vars-Tuple{SoilCanopyModel}">#</a> <b><u>ClimaLand.lsm_aux_vars</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">lsm_aux_vars</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">SoilCanopyModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>The names of the additional auxiliary variables that are included in the integrated Soil-Canopy model.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.lsm_radiant_energy_fluxes!-Union{Tuple{FT}, Tuple{Any, ClimaLand.Canopy.AbstractRadiationModel{FT}, Any, ClimaLand.Soil.EnergyHydrology, Any, Any}} where FT" href="#ClimaLand.lsm_radiant_energy_fluxes!-Union{Tuple{FT}, Tuple{Any, ClimaLand.Canopy.AbstractRadiationModel{FT}, Any, ClimaLand.Soil.EnergyHydrology, Any, Any}} where FT">#</a> <b><u>ClimaLand.lsm_radiant_energy_fluxes!</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">lsm_radiant_energy_fluxes!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(p,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                            canopy_radiation</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Canopy.AbstractRadiationModel{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                            canopy,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                            ground_model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Soil.EnergyHydrology</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                            Y,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                            t,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                            ) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {FT}</span></span></code></pre></div><p>A function which computes the net radiation at the ground surface give the canopy radiation model, as well as the outgoing radiation, and the net canopy radiation.</p><p>Returns the correct radiative fluxes for bare ground in the case where the canopy LAI is zero. Note also that this serves the role of <code>canopy_radiant_energy_fluxes!</code>, which computes the net canopy radiation when the Canopy is run in standalone mode.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.make_compute_exp_tendency-Tuple{AbstractModel}" href="#ClimaLand.make_compute_exp_tendency-Tuple{AbstractModel}">#</a> <b><u>ClimaLand.make_compute_exp_tendency</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">make_compute_exp_tendency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Return a <code>compute_exp_tendency!</code> function that updates state variables that we will be stepped explicitly. This fallback sets all tendencies of this model to zero, which is appropriate for models that do not have any explicit tendencies to update. Note that we cannot set <code>dY .= 0</code> here because this would overwrite the tendencies of all models in the case of an integrated LSM.</p><p><code>compute_exp_tendency!</code> should be compatible with SciMLBase.jl solvers.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.make_compute_imp_tendency-Tuple{AbstractModel}" href="#ClimaLand.make_compute_imp_tendency-Tuple{AbstractModel}">#</a> <b><u>ClimaLand.make_compute_imp_tendency</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">make_compute_imp_tendency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Return a <code>compute_imp_tendency!</code> function that updates state variables that we will be stepped implicitly. This fallback sets all tendencies of this model to zero, which is appropriate for models that do not have any implicit tendencies to update. Note that we cannot set <code>dY .= 0</code> here because this would overwrite the tendencies of all models in the case of an integrated LSM.</p><p><code>compute_imp_tendency!</code> should be compatible with SciMLBase.jl solvers.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.make_compute_jacobian-Tuple{AbstractModel}" href="#ClimaLand.make_compute_jacobian-Tuple{AbstractModel}">#</a> <b><u>ClimaLand.make_compute_jacobian</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">make_compute_jacobian</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Creates and returns a function which computes the entries of the Jacobian matrix <code>W</code> in place.</p><p>If the implicit tendency function is given by <code>T!(dY, Y, p, t) = make_implicit_tendency(model)</code>, the Jacobian should be given by <code>W_{i,j}! = ∂T!_i/∂Y_j</code>, where <code>Y_j</code> is the <code>j-th</code> state variable and <code>T!_i</code> is the implicit tendency of the <code>i-th</code> state variable.</p><p>The default is that no updates are required, but this function must be extended for models that use implicit timestepping.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.make_exp_tendency-Tuple{AbstractModel}" href="#ClimaLand.make_exp_tendency-Tuple{AbstractModel}">#</a> <b><u>ClimaLand.make_exp_tendency</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">make_exp_tendency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Returns an <code>exp_tendency</code> that updates auxiliary variables and updates the prognostic state of variables that are stepped explicitly.</p><p><code>compute_exp_tendency!</code> should be compatible with SciMLBase.jl solvers.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.make_imp_tendency-Tuple{AbstractImExModel}" href="#ClimaLand.make_imp_tendency-Tuple{AbstractImExModel}">#</a> <b><u>ClimaLand.make_imp_tendency</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">make_imp_tendency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractImExModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Returns an <code>imp_tendency</code> that updates auxiliary variables and updates the prognostic state of variables that are stepped implicitly.</p><p><code>compute_imp_tendency!</code> should be compatible with SciMLBase.jl solvers.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.make_imp_tendency-Tuple{AbstractModel}" href="#ClimaLand.make_imp_tendency-Tuple{AbstractModel}">#</a> <b><u>ClimaLand.make_imp_tendency</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">make_imp_tendency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Returns an <code>imp_tendency</code> that does nothing. This model type is not stepped explicity.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.make_jacobian-Tuple{AbstractModel}" href="#ClimaLand.make_jacobian-Tuple{AbstractModel}">#</a> <b><u>ClimaLand.make_jacobian</u></b> — <i>Method</i>. <p>make_jacobian(model::AbstractModel)</p><p>Creates and returns a function which updates the auxiliary variables <code>p</code> in place and then updates the entries of the Jacobian matrix <code>W</code> for the <code>model</code> in place.</p><p>The default is that no updates are required, no implicit tendency is present, and hence the timestepping is entirely explicit.</p><p>Note that the returned function <code>jacobian!</code> should be used as <code>Wfact!</code> in <code>ClimaTimeSteppers.jl</code> and <code>SciMLBase.jl</code>.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.make_set_initial_cache-Tuple{AbstractModel}" href="#ClimaLand.make_set_initial_cache-Tuple{AbstractModel}">#</a> <b><u>ClimaLand.make_set_initial_cache</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">make_set_initial_cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Returns the set_initial_cache! function, which updates the auxiliary state <code>p</code> in place with the initial values corresponding to Y(t=t0) = Y0.</p><p>In principle, this function is not needed, because in the very first evaluation of either <code>explicit_tendency</code> or <code>implicit_tendency</code>, at t=t0, the auxiliary state is updated using the initial conditions for Y=Y0. However, without setting the initial <code>p</code> state prior to running the simulation, the value of <code>p</code> in the saved output at t=t0 will be unset.</p><p>Furthermore, specific methods of this function may be useful for models which store time indepedent spatially varying parameter fields in the auxiliary state. In this case, <code>update_aux!</code> does not need to do anything, but they do need to be set with the initial (constant) values before the simulation can be carried out.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.make_update_aux-Tuple{AbstractModel}" href="#ClimaLand.make_update_aux-Tuple{AbstractModel}">#</a> <b><u>ClimaLand.make_update_aux</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">make_update_aux</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Return an <code>update_aux!</code> function that updates auxiliary parameters <code>p</code>.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.make_update_boundary_fluxes-Tuple{AbstractModel}" href="#ClimaLand.make_update_boundary_fluxes-Tuple{AbstractModel}">#</a> <b><u>ClimaLand.make_update_boundary_fluxes</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">make_update_boundary_fluxes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Return an <code>update_boundary_fluxes!</code> function that updates the auxiliary parameters in <code>p</code> corresponding to boundary fluxes or interactions between componets..</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.make_update_boundary_fluxes-Union{Tuple{LandHydrology{FT, SM, SW}}, Tuple{SW}, Tuple{SM}, Tuple{FT}} where {FT, SM&lt;:(ClimaLand.Soil.RichardsModel{FT}), SW&lt;:(ClimaLand.Pond.PondModel{FT})}" href="#ClimaLand.make_update_boundary_fluxes-Union{Tuple{LandHydrology{FT, SM, SW}}, Tuple{SW}, Tuple{SM}, Tuple{FT}} where {FT, SM&lt;:(ClimaLand.Soil.RichardsModel{FT}), SW&lt;:(ClimaLand.Pond.PondModel{FT})}">#</a> <b><u>ClimaLand.make_update_boundary_fluxes</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">make_update_boundary_fluxes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    land</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">LandHydrology{FT, SM, SW}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {FT, SM </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Soil.RichardsModel{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, SW </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Pond.PondModel{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>A method which makes a function; the returned function updates the auxiliary variable <code>p.soil_infiltration</code>, which is needed for both the boundary condition for the soil model and the source term (runoff) for the surface water model.</p><p>This function is called each ode function evaluation.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.make_update_boundary_fluxes-Union{Tuple{SoilCanopyModel{FT, MM, SM, RM}}, Tuple{RM}, Tuple{SM}, Tuple{MM}, Tuple{FT}} where {FT, MM&lt;:(ClimaLand.Soil.Biogeochemistry.SoilCO2Model{FT}), SM&lt;:(ClimaLand.Soil.EnergyHydrology{FT}), RM&lt;:(ClimaLand.Canopy.CanopyModel{FT})}" href="#ClimaLand.make_update_boundary_fluxes-Union{Tuple{SoilCanopyModel{FT, MM, SM, RM}}, Tuple{RM}, Tuple{SM}, Tuple{MM}, Tuple{FT}} where {FT, MM&lt;:(ClimaLand.Soil.Biogeochemistry.SoilCO2Model{FT}), SM&lt;:(ClimaLand.Soil.EnergyHydrology{FT}), RM&lt;:(ClimaLand.Canopy.CanopyModel{FT})}">#</a> <b><u>ClimaLand.make_update_boundary_fluxes</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">make_update_boundary_fluxes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    land</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">SoilCanopyModel{FT, MM, SM, RM}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    FT,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    MM </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Soil.Biogeochemistry.SoilCO2Model{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    SM </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Soil.RichardsModel{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    RM </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Canopy.CanopyModel{FT}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span></code></pre></div><p>A method which makes a function; the returned function updates the additional auxiliary variables for the integrated model, as well as updates the boundary auxiliary variables for all component models.</p><p>This function is called each ode function evaluation, prior to the tendency function evaluation.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.make_update_cache-Tuple{AbstractModel}" href="#ClimaLand.make_update_cache-Tuple{AbstractModel}">#</a> <b><u>ClimaLand.make_update_cache</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> make_update_cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>A helper function which updates all cache variables of a model; currently only used in <code>set_initial_cache</code> since not all cache variables are updated at the same time.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.make_update_drivers-Tuple{ClimaLand.AbstractClimaLandDrivers}" href="#ClimaLand.make_update_drivers-Tuple{ClimaLand.AbstractClimaLandDrivers}">#</a> <b><u>ClimaLand.make_update_drivers</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">make_update_drivers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractClimaLandDrivers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Creates and returns a function which updates the driver variables in the default case of no drivers. More generally, this should return a function which updates the driver fields stored in <code>p.drivers</code>.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.make_update_drivers-Tuple{Tuple}" href="#ClimaLand.make_update_drivers-Tuple{Tuple}">#</a> <b><u>ClimaLand.make_update_drivers</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">make_update_drivers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(driver_tuple)</span></span></code></pre></div><p>Creates and returns a function which updates the forcing variables (&quot;drivers&quot;). If no drivers are being used, driver_tuple is empty, and the update function does nothing.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.make_update_drivers-Union{Tuple{PrescribedAtmosphere{FT}}, Tuple{FT}} where FT" href="#ClimaLand.make_update_drivers-Union{Tuple{PrescribedAtmosphere{FT}}, Tuple{FT}} where FT">#</a> <b><u>ClimaLand.make_update_drivers</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">make_update_drivers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PrescribedAtmosphere{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {FT}</span></span></code></pre></div><p>Creates and returns a function which updates the driver variables in the case of a PrescribedAtmosphere.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.make_update_drivers-Union{Tuple{PrescribedPrecipitation{FT}}, Tuple{FT}} where FT" href="#ClimaLand.make_update_drivers-Union{Tuple{PrescribedPrecipitation{FT}}, Tuple{FT}} where FT">#</a> <b><u>ClimaLand.make_update_drivers</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">make_update_drivers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PrescribedPrecipitation{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {FT}</span></span></code></pre></div><p>Creates and returns a function which updates the driver variables in the case of a PrescribedPrecipitation.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.make_update_drivers-Union{Tuple{PrescribedRadiativeFluxes{FT}}, Tuple{FT}} where FT" href="#ClimaLand.make_update_drivers-Union{Tuple{PrescribedRadiativeFluxes{FT}}, Tuple{FT}} where FT">#</a> <b><u>ClimaLand.make_update_drivers</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">make_update_drivers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PrescribedRadiativeFluxes{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {FT}</span></span></code></pre></div><p>Creates and returns a function which updates the driver variables in the case of a PrescribedRadiativeFluxes.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.make_update_drivers-Union{Tuple{PrescribedSoilOrganicCarbon{FT}}, Tuple{FT}} where FT" href="#ClimaLand.make_update_drivers-Union{Tuple{PrescribedSoilOrganicCarbon{FT}}, Tuple{FT}} where FT">#</a> <b><u>ClimaLand.make_update_drivers</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">make_update_drivers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(d</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PrescribedSoilOrganicCarbon{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {FT}</span></span></code></pre></div><p>Creates and returns a function which updates the driver variables in the case of a PrescribedSoilOrganicCarbon.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.name-Tuple{AbstractModel}" href="#ClimaLand.name-Tuple{AbstractModel}">#</a> <b><u>ClimaLand.name</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Returns a symbol of the model component name, e.g. :soil or :vegetation.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.net_radiation-Tuple{CoupledRadiativeFluxes, AbstractModel, ClimaCore.Fields.FieldVector, NamedTuple, Any}" href="#ClimaLand.net_radiation-Tuple{CoupledRadiativeFluxes, AbstractModel, ClimaCore.Fields.FieldVector, NamedTuple, Any}">#</a> <b><u>ClimaLand.net_radiation</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">net_radiation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(radiation</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">CoupledRadiativeFluxes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">              model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">              Y,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">              p,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">              t)</span></span></code></pre></div><p>Computes the net radiative flux at the ground for a coupled simulation. Your model cache must contain the field <code>R_n</code>.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.net_radiation-Tuple{PrescribedRadiativeFluxes, AbstractModel, ClimaCore.Fields.FieldVector, NamedTuple, Any}" href="#ClimaLand.net_radiation-Tuple{PrescribedRadiativeFluxes, AbstractModel, ClimaCore.Fields.FieldVector, NamedTuple, Any}">#</a> <b><u>ClimaLand.net_radiation</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">net_radiation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(radiation</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PrescribedRadiativeFluxes{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">              model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractModel{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">              Y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ClimaCore.Fields.FieldVector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">              p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">              t,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">              ) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {FT}</span></span></code></pre></div><p>Computes net radiative fluxes for a prescribed incoming longwave and shortwave radiation.</p><p>This returns an energy flux.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.prognostic_domain_names-Tuple{AbstractModel}" href="#ClimaLand.prognostic_domain_names-Tuple{AbstractModel}">#</a> <b><u>ClimaLand.prognostic_domain_names</u></b> — <i>Method</i>. <p>prognostic_domain_names(m::AbstractModel)</p><p>Returns the domain names for the prognostic variables in the form of a tuple.</p><p>Examples: (:surface, :surface, :subsurface).</p><p>Note that this default suggests that a model has no prognostic variables, which is an invalid model setup. This function is meant to be extended for all models.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.prognostic_types-Tuple{AbstractModel}" href="#ClimaLand.prognostic_types-Tuple{AbstractModel}">#</a> <b><u>ClimaLand.prognostic_types</u></b> — <i>Method</i>. <p FT="">prognostic_types(m::AbstractModel{FT}) where</p><p>Returns the prognostic variable types for the model in the form of a tuple.</p><p>Types provided must have <code>ClimaCore.RecursiveApply.rzero(T::DataType)</code> defined. Common examples include</p><ul><li>Float64, Float32 for scalar variables (a scalar value at each</li></ul><p>coordinate point)</p><ul><li>SVector{k,Float64} for a mutable but statically sized array of</li></ul><p>length <code>k</code> at each coordinate point.</p><p>Here, the coordinate points are those returned by coordinates(model).</p><p>Note that this default suggests that a model has no prognostic variables, which is an invalid model setup. This function is meant to be extended for all models.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.prognostic_vars-Tuple{AbstractModel}" href="#ClimaLand.prognostic_vars-Tuple{AbstractModel}">#</a> <b><u>ClimaLand.prognostic_vars</u></b> — <i>Method</i>. <p>prognostic_vars(m::AbstractModel)</p><p>Returns the prognostic variable symbols for the model in the form of a tuple.</p><p>Note that this default suggests that a model has no prognostic variables, which is an invalid model setup. This function is meant to be extended for all models.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.relative_humidity-Union{Tuple{FT}, Tuple{FT, FT, FT, Any}} where FT" href="#ClimaLand.relative_humidity-Union{Tuple{FT}, Tuple{FT, FT, FT, Any}} where FT">#</a> <b><u>ClimaLand.relative_humidity</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">relative_humidity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(T_air, P_air, q_air, thermo_params)</span></span></code></pre></div><p>Computes the vapor pressure deficit for air with temperature T_air, pressure P_air, and specific humidity q_air, using thermo_params, a Thermodynamics.jl param set.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.saving_initialize-NTuple{4, Any}" href="#ClimaLand.saving_initialize-NTuple{4, Any}">#</a> <b><u>ClimaLand.saving_initialize</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">saving_initialize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cb, u, t, integrator)</span></span></code></pre></div><p>This function saves t and p at the start of the simulation, as long as the initial time is in <code>saveat</code>. To run the simulation without saving these initial values, don&#39;t pass the <code>initialize</code> argument to the <code>DiscreteCallback</code> constructor.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.set_atmos_ts!-Union{Tuple{FT}, Tuple{Any, PrescribedAtmosphere{FT}, Any}} where FT" href="#ClimaLand.set_atmos_ts!-Union{Tuple{FT}, Tuple{Any, PrescribedAtmosphere{FT}, Any}} where FT">#</a> <b><u>ClimaLand.set_atmos_ts!</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">set_atmos_ts!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ts_in, atmos</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PrescribedAtmosphere{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, p)</span></span></code></pre></div><p>Fill the pre-allocated ts_in <code>Field</code> with a thermodynamic state computed from the atmosphere.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.set_dfluxBCdY!-Tuple{AbstractModel, AbstractBC, AbstractBoundary, Vararg{Any}}" href="#ClimaLand.set_dfluxBCdY!-Tuple{AbstractModel, AbstractBC, AbstractBoundary, Vararg{Any}}">#</a> <b><u>ClimaLand.set_dfluxBCdY!</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">set_dfluxBCdY!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">              ::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractBC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">              ::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractBoundary</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">              _</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Union{ClimaCore.Fields.FieldVector, Nothing}</span></span></code></pre></div><p>A function stub which returns the derivative of the implicit tendency term of the <code>model</code> arising from the boundary condition, with respect to the state Y.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.source!-Tuple{ClimaCore.Fields.FieldVector, AbstractSource, ClimaCore.Fields.FieldVector, NamedTuple, Vararg{Any}}" href="#ClimaLand.source!-Tuple{ClimaCore.Fields.FieldVector, AbstractSource, ClimaCore.Fields.FieldVector, NamedTuple, Vararg{Any}}">#</a> <b><u>ClimaLand.source!</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> source!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ClimaCore.Fields.FieldVector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">         src</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractSource</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">         Y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ClimaCore.Fields.FieldVector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">         p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">         )</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ClimaCore.Fields.Field</span></span></code></pre></div><p>A stub function, which is extended by ClimaLand.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.source!-Tuple{ClimaCore.Fields.FieldVector, ClimaLand.RootExtraction, ClimaCore.Fields.FieldVector, NamedTuple, ClimaLand.Soil.EnergyHydrology}" href="#ClimaLand.source!-Tuple{ClimaCore.Fields.FieldVector, ClimaLand.RootExtraction, ClimaCore.Fields.FieldVector, NamedTuple, ClimaLand.Soil.EnergyHydrology}">#</a> <b><u>ClimaLand.source!</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ClimaLand</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ClimaCore.Fields.FieldVector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                 src</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">RootExtraction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                 Y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ClimaCore.Fields.FieldVector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                 p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                 model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">EnergyHydrology</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>An extension of the <code>ClimaLand.source!</code> function, which computes source terms for the soil model; this method returns the water and energy loss/gain due to root extraction.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.surface_air_density-Tuple{CoupledAtmosphere, AbstractModel, Any, Any, Vararg{Any}}" href="#ClimaLand.surface_air_density-Tuple{CoupledAtmosphere, AbstractModel, Any, Any, Vararg{Any}}">#</a> <b><u>ClimaLand.surface_air_density</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ClimaLand</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">surface_air_density</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                atmos</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">CoupledAtmosphere</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                Y,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                p,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                _</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            )</span></span></code></pre></div><p>Returns the air density at the surface in the case of a coupled simulation.</p><p>This requires the field <code>ρ_sfc</code> to be present in the cache <code>p</code> under the name of the model.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.surface_air_density-Tuple{PrescribedAtmosphere, AbstractModel, Vararg{Any, 4}}" href="#ClimaLand.surface_air_density-Tuple{PrescribedAtmosphere, AbstractModel, Vararg{Any, 4}}">#</a> <b><u>ClimaLand.surface_air_density</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">surface_air_density</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    atmos</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PrescribedAtmosphere</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    Y,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    p,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    t,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    T_sfc,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    )</span></span></code></pre></div><p>A helper function which returns the surface air density; this assumes that the <code>model</code> has a property called <code>parameters</code> containing <code>earth_param_set</code>.</p><p>We additionally include the <code>atmos</code> type as an argument because the surface air density computation will change between a coupled simulation and a prescibed atmos simulation.</p><p>Extending this function for your model is only necessary if you need to compute the air density in a different way.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.surface_albedo-Tuple{AbstractModel, Any, Any}" href="#ClimaLand.surface_albedo-Tuple{AbstractModel, Any, Any}">#</a> <b><u>ClimaLand.surface_albedo</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">surface_albedo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Y, p)</span></span></code></pre></div><p>A helper function which returns the surface albedo for a given model, needed because different models compute and store α_sfc in different ways and places.</p><p>Extending this function for your model is only necessary if you need to compute surface fluxes and radiative fluxes at the surface using the functions in this file.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.surface_emissivity-Tuple{AbstractModel, Any, Any}" href="#ClimaLand.surface_emissivity-Tuple{AbstractModel, Any, Any}">#</a> <b><u>ClimaLand.surface_emissivity</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">surface_emissivity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Y, p)</span></span></code></pre></div><p>A helper function which returns the surface emissivity for a given model, needed because different models compute and store ϵ_sfc in different ways and places.</p><p>Extending this function for your model is only necessary if you need to compute surface fluxes and radiative fluxes at the surface using the functions in this file.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.surface_evaporative_scaling-Union{Tuple{FT}, Tuple{AbstractModel{FT}, Any, Any}} where FT" href="#ClimaLand.surface_evaporative_scaling-Union{Tuple{FT}, Tuple{AbstractModel{FT}, Any, Any}} where FT">#</a> <b><u>ClimaLand.surface_evaporative_scaling</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">surface_evaporative_scaling</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractModel{FT}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Y, p) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {FT}</span></span></code></pre></div><p>A helper function which returns the surface evaporative scaling factor for a given model, needed because different models compute and store β_sfc in different ways and places. Currently, this factor is 1 for all models besides the bucket model, so we have chosen a default of 1.</p><p>Extending this function for your model is only necessary if you need to compute surface fluxes and radiative fluxes at the surface using the functions in this file.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.surface_height-Tuple{AbstractModel, Any, Any}" href="#ClimaLand.surface_height-Tuple{AbstractModel, Any, Any}">#</a> <b><u>ClimaLand.surface_height</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">surface_height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Y, p)</span></span></code></pre></div><p>A helper function which returns the surface height (canopy height+elevation) for a given model, needed because different models compute and store h_sfc in different ways and places.</p><p>Extending this function for your model is only necessary if you need to compute surface fluxes and radiative fluxes at the surface using the functions in this file.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.surface_resistance-Union{Tuple{FT}, Tuple{AbstractModel{FT}, Any, Any, Any}} where FT" href="#ClimaLand.surface_resistance-Union{Tuple{FT}, Tuple{AbstractModel{FT}, Any, Any, Any}} where FT">#</a> <b><u>ClimaLand.surface_resistance</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">surface_resistance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Y, p, t)</span></span></code></pre></div><p>A helper function which returns the surface resistance for a given model, needed because different models compute and store surface resistance in different ways and places.</p><p>Extending this function for your model is only necessary if you need to compute surface fluxes and radiative fluxes at the surface using the functions in this file.</p><p>The default is 0, which is no additional resistance aside from the usual aerodynamic resistance from MOST.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.surface_specific_humidity-Tuple{AbstractModel, Vararg{Any, 4}}" href="#ClimaLand.surface_specific_humidity-Tuple{AbstractModel, Vararg{Any, 4}}">#</a> <b><u>ClimaLand.surface_specific_humidity</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">surface_specific_humidity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Y, p, T_sfc, ρ_sfc)</span></span></code></pre></div><p>A helper function which returns the surface specific humidity for a given model, needed because different models compute and store q_sfc in different ways and places.</p><p>Extending this function for your model is only necessary if you need to compute surface fluxes and radiative fluxes at the surface using the functions in this file.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.surface_temperature-Tuple{AbstractModel, Any, Any, Any}" href="#ClimaLand.surface_temperature-Tuple{AbstractModel, Any, Any, Any}">#</a> <b><u>ClimaLand.surface_temperature</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">surface_temperature</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Y, p, t)</span></span></code></pre></div><p>A helper function which returns the surface temperature for a given model, needed because different models compute and store surface temperature in different ways and places.</p><p>Extending this function for your model is only necessary if you need to compute surface fluxes and radiative fluxes at the surface using the functions in this file.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.turbulent_fluxes-Tuple{CoupledAtmosphere, AbstractModel, Any, Any, Any}" href="#ClimaLand.turbulent_fluxes-Tuple{CoupledAtmosphere, AbstractModel, Any, Any, Any}">#</a> <b><u>ClimaLand.turbulent_fluxes</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">turbulent_fluxes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(atmos</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">CoupledAtmosphere</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                Y,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                p,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                t)</span></span></code></pre></div><p>Computes the turbulent surface fluxes terms at the ground for a coupled simulation.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.turbulent_fluxes-Tuple{PrescribedAtmosphere, AbstractModel, ClimaCore.Fields.FieldVector, NamedTuple, Any}" href="#ClimaLand.turbulent_fluxes-Tuple{PrescribedAtmosphere, AbstractModel, ClimaCore.Fields.FieldVector, NamedTuple, Any}">#</a> <b><u>ClimaLand.turbulent_fluxes</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">turbulent_fluxes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(atmos</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PrescribedAtmosphere</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">               model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">               Y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ClimaCore.Fields.FieldVector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">               p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">               t</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">               )</span></span></code></pre></div><p>Computes the turbulent surface flux terms at the ground for a standalone simulation, including turbulent energy fluxes as well as the water vapor flux (in units of m^3/m^2/s of water). Positive fluxes indicate flow from the ground to the atmosphere.</p><p>It solves for these given atmospheric conditions, stored in <code>atmos</code>, model parameters, and the surface conditions.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.turbulent_fluxes_at_a_point-Union{Tuple{EP}, Tuple{FT}, Tuple{FT, FT, FT, FT, FT, FT, FT, Any, FT, FT, FT, FT, FT, EP}} where {FT&lt;:AbstractFloat, EP}" href="#ClimaLand.turbulent_fluxes_at_a_point-Union{Tuple{EP}, Tuple{FT}, Tuple{FT, FT, FT, FT, FT, FT, FT, Any, FT, FT, FT, FT, FT, EP}} where {FT&lt;:AbstractFloat, EP}">#</a> <b><u>ClimaLand.turbulent_fluxes_at_a_point</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">turbulent_fluxes_at_a_point</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(T_sfc</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">FT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                            q_sfc</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">FT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                            ρ_sfc</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">FT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                            β_sfc</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">FT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                            h_sfc</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">FT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                            r_sfc</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">FT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                            d_sfc</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">FT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                            ts_in,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                            u</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">FT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                            h</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">FT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                            gustiness</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">FT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                            z_0m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">FT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                            z_0b</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">FT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                            earth_param_set</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">EP</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                           ) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {FT </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractFloat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, P}</span></span></code></pre></div><p>Computes turbulent surface fluxes at a point on a surface given (1) the surface temperature (T_sfc), specific humidity (q_sfc), and air density (ρ_sfc), (2) Other surface properties, such as the factor β_sfc which scales the evaporation from the potential rate (used in bucket models), and the surface resistance r_sfc (used in more complex land models), and the topographical height of the surface (h_sfc) (3) the roughness lengths <code>z_0m, z_0b</code>, and the Earth parameter set for the model <code>earth_params</code>. (4) the prescribed atmospheric state, <code>ts_in</code>, u, h the height at which these measurements are made, and the gustiness parameter (m/s). (5) the displacement height for the model d_sfc</p><p>This returns an energy flux and a liquid water volume flux, stored in a tuple with self explanatory keys.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.update_condition-Tuple{Any}" href="#ClimaLand.update_condition-Tuple{Any}">#</a> <b><u>ClimaLand.update_condition</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">update_condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(updateat)</span></span></code></pre></div><p>This function returns a function with the type signature expected by <code>SciMLBase.DiscreteCallback</code>, and determines whether <code>affect!</code> gets called in the callback. This implementation simply checks if the current time of the simulation is within the (inclusive) bounds of <code>updateat</code>.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="ClimaLand.vapor_pressure_deficit-NTuple{4, Any}" href="#ClimaLand.vapor_pressure_deficit-NTuple{4, Any}">#</a> <b><u>ClimaLand.vapor_pressure_deficit</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">vapor_pressure_deficit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(T_air, P_air, q_air, thermo_params)</span></span></code></pre></div><p>Computes the vapor pressure deficit for air with temperature T_air, pressure P_air, and specific humidity q_air, using thermo_params, a Thermodynamics.jl param set.</p><p><a href="https://github.com/CliMA/ClimaLand.jl" target="_blank" rel="noreferrer">source</a></p></div><br></div></div></main><footer class="VPDocFooter" data-v-83890dd9 data-v-4f9813fa><!--[--><!--]--><div class="edit-info" data-v-4f9813fa><div class="edit-link" data-v-4f9813fa><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://https://github.com/CliMA/ClimaLand.jl/edit/main/docs/src/API.md" target="_blank" rel="noreferrer" data-v-4f9813fa><!--[--><span class="vpi-square-pen edit-link-icon" data-v-4f9813fa></span> Edit this page<!--]--></a></div><!----></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-4f9813fa><span class="visually-hidden" id="doc-footer-aria-label" data-v-4f9813fa>Pager</span><div class="pager" data-v-4f9813fa><a class="VPLink link pager-link prev" href="/ClimaLand.jl/previews/PR750/getting_started" data-v-4f9813fa><!--[--><span class="desc" data-v-4f9813fa>Previous page</span><span class="title" data-v-4f9813fa>Getting started</span><!--]--></a></div><div class="pager" data-v-4f9813fa><!----></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-a9a9e638 data-v-c970a860><div class="container" data-v-c970a860><p class="message" data-v-c970a860>Made with <a href="https://luxdl.github.io/DocumenterVitepress.jl/dev/" target="_blank"><strong>DocumenterVitepress.jl</strong></a><br></p><p class="copyright" data-v-c970a860>© Copyright 2024.</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"api.md\":\"CRL9ONG_\",\"getting_started.md\":\"3xFyFBQr\",\"index.md\":\"DIzDWzCe\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"ClimaLand.jl\",\"description\":\"Documentation for ClimaLand.jl\",\"base\":\"/ClimaLand.jl/previews/PR750/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"outline\":\"deep\",\"search\":{\"provider\":\"local\",\"options\":{\"detailedView\":true}},\"nav\":[{\"text\":\"Home\",\"link\":\"/index\"},{\"text\":\"Getting started\",\"link\":\"/getting_started\"},{\"text\":\"API\",\"link\":\"/API\"}],\"sidebar\":[{\"text\":\"Home\",\"link\":\"/index\"},{\"text\":\"Getting started\",\"link\":\"/getting_started\"},{\"text\":\"API\",\"link\":\"/API\"}],\"editLink\":{\"pattern\":\"https://https://github.com/CliMA/ClimaLand.jl/edit/main/docs/src/:path\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/CliMA/ClimaLand.jl\"}],\"footer\":{\"message\":\"Made with <a href=\\\"https://luxdl.github.io/DocumenterVitepress.jl/dev/\\\" target=\\\"_blank\\\"><strong>DocumenterVitepress.jl</strong></a><br>\",\"copyright\":\"© Copyright 2024.\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>